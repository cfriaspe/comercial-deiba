<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comercial Deiba SpA</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- BOT√ìN FLOTANTE WHATSAPP -->
<a href="https://wa.me/56950726761" class="whatsapp-float" target="_blank" title="Escr√≠benos por WhatsApp">
  <i class="bi bi-whatsapp"></i>
</a>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top nav-deiba">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="img/logo.png" alt="Deiba Logo" class="logo-deiba me-2">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">

      <!-- Carrito -->
      <li class="nav-item ms-3 position-relative">
        <a href="carrito.html" class="nav-link">
          <i class="bi bi-cart3 fs-4"></i>
          <span id="contadorCarrito"
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark"
            style="font-size: 0.7rem;">0
          </span>
        </a>
      </li>

      <!-- Men√∫ -->
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="#hero">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="sobre nosotros.html">Sobre Nosotros</a></li>
        <li class="nav-item"><a class="nav-link" href="#productos">Productos</a></li>
        <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
      </ul>
    </div>

  </div>
</nav>

<!-- HERO -->
<header class="hero-img"></header>

<!-- CATALOGO -->
<section id="productos" class="py-5 text-center text-white">
  <div class="container">
    <h2 class="fw-bold mb-4">Catalogo</h2>
    <div class="row g-4">
      <!-- Filtros -->
      <div class="col-md-4">
        <div class="card product h-100 border-naranja overflow-hidden">
          <img src="img/Filtros/Generated Image November 14, 2025 - 10_48AM.png" class="product-img">

          <div class="p-3 text-start">
            <h5 class="fw-bold">Filtros</h5>
            <p>Filtros de aire, aceite y combustible para maquinaria pesada.</p>
          </div>

          <a href="filtros.html" class="btn-deiba btn-producto">Ver producto</a>
        </div>
      </div>

      <!-- Lubricantes -->
      <div class="col-md-4">
        <div class="card product h-100 border-naranja overflow-hidden">

          <img src="img/Lubricantes/generated-image-november-14-2025-10-39am.png" class="product-img">

          <div class="p-3 text-start">
            <h5 class="fw-bold">Lubricantes</h5>
            <p>Lubricantes Mobil, Total y Lubrax con entrega inmediata.</p>
          </div>

          <a href="lubricantes.html" class="btn-deiba btn-producto">Ver producto</a>
        </div>
      </div>

      <!-- Repuestos -->
      <div class="col-md-4">
        <div class="card product h-100 border-naranja overflow-hidden">
          <img src="img/Repuestos/Generated Image November 14, 2025 - 11_21AM.png" class="product-img">

          <div class="p-3 text-start">
            <h5 class="fw-bold">Repuestos</h5>
            <p>Repuestos originales para maquinaria industrial.</p>
          </div>

          <a href="repuestos.html" class="btn-deiba btn-producto">Ver producto</a>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- CONTACTO -->
<section id="contacto" class="contact-section py-5">
  <div class="container text-center text-white">
    <h2 class="fw-bold mb-4">Cont√°ctanos</h2>

    <form 
      action="https://formsubmit.co/comercialdeiba@gmail.com"
      method="POST"
      class="contact-form mx-auto">

      <input type="text" name="name" placeholder="Nombre completo" required>
      <input type="email" name="email" placeholder="Correo electr√≥nico" required>
      <textarea name="message" rows="4" placeholder="Escribe tu mensaje aqu√≠..." required></textarea>

      <button type="submit" class="btn-deiba-yellow mt-3">Enviar Mensaje</button>

      <input type="hidden" name="_captcha" value="false">
    </form>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer-deiba text-center text-white py-4">
  <div class="container">
    <p class="fw-bold mb-1">Comercial Deiba SPA</p>
    <p class="mb-1">üìû +56 9 7479 0692</p>
    <p class="mb-1">‚úâÔ∏è comercialdeiba@gmail.com</p>
    <p class="mb-3">üìç Parque Isidora 908, Bodega 308B ‚Äî Pudahuel</p>

    <div class="social-icons">
      <a href="https://www.instagram.com/comercialdeibaspa/" target="_blank" class="social-link">
        <i class="bi bi-instagram"></i>
      </a>
    </div>

    <p class="mt-3 small text-secondary">¬© 2025 Comercial Deiba SpA</p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // üî¢ Actualiza el contador del carrito en el √≠cono del navbar
  function actualizarContadorCarrito() {
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    let total = carrito.reduce((s, p) => s + p.cantidad, 0);

    const badge = document.getElementById("contadorCarrito");
    if (badge) badge.innerText = total;
  }

  // üõí Agregar producto al carrito
function agregarAlCarrito(id, nombre, precio, imagen, oferta = false, descuento = 0) {

  let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

  let existente = carrito.find(item => item.id === id);

  if (existente) {
    existente.cantidad += 1;
  } else {
    carrito.push({
      id,
      nombre,
      precio,
      imagen,
      cantidad: 1,
      oferta: oferta,
      descuento: descuento   // üëà ahora s√≠ queda guardado el % en el carrito
    });
  }

  localStorage.setItem("carrito", JSON.stringify(carrito));
  actualizarContadorCarrito();
  alert("Producto agregado al carrito ‚úîÔ∏è");
}

  // ‚èØÔ∏è Al cargar la p√°gina, sincronizamos el contador con lo que haya en localStorage
  document.addEventListener("DOMContentLoaded", actualizarContadorCarrito);
</script>


</body>
</html>
